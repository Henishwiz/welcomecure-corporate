---
import { client } from "../../tina/__generated__/client";
import HeroSection from '../components/Home/HeroSection';
import Layout from '../layouts/Layout.astro';
import OurSolutions from '../components/Home/OurSolution';
import TrustedBy from '../components/Home/TrustedBy';
import HighQualitySolution from '../components/Home/HighQualitySolution';
import WhyWelcomecure from '../components/Home/WhyWelcomecure';
import CaseStudies from '../components/Home/CaseStudies';
import Organizations from '../components/Home/Organizations';

// Welcome to Astro! Wondering what to do next? Check out the Astro documentation at https://docs.astro.build
// Don't want to use any of this? Delete everything in this file, the `assets`, `components`, and `layouts` directories, and start fresh.

const heroRes = await client.queries.hero({
  relativePath: "hero.md",
});

const orgRes = await client.queries.organizations({
  relativePath: "organizations.md",
});

const res = await client.queries.ourSolutions({
  relativePath: "our-solutions.md",
})

const { data } = await client.queries.caseStudies({ relativePath: "case-studies.md" });
const highQualitySolutionsRes = await client.queries.highQualitySolutions({
  relativePath: "high-quality-solutions.md",
});

const whyWelcomecureRes = await client.queries.whyWelcomecure({
  relativePath: "why-welcomecure.md",
});

const trustedByRes = await client.queries.trustedBy({
  relativePath: "trusted-by.md",
});

const hero = heroRes.data.hero;
const organizations = orgRes.data.organizations;
const ourSolutions = res.data.ourSolutions;
const highQualitySolutions = highQualitySolutionsRes?.data?.highQualitySolutions;
const whyWelcomecure = whyWelcomecureRes?.data?.whyWelcomecure;
const trustedBy = trustedByRes?.data?.trustedBy;
---

<Layout>
    <HeroSection hero={hero} />
    <Organizations organizations={organizations} />
    <OurSolutions ourSolutions={ourSolutions} />
    <TrustedBy data={trustedBy} />
    <HighQualitySolution data={highQualitySolutions} />
    <WhyWelcomecure data={whyWelcomecure} />
    <CaseStudies {...data.caseStudies} />
</Layout>
